import{g as v}from"./getDate-a6a896d2.js";import{_ as k,b as x,m as b,d as o,e as s,t as n,h as a,F as _,l as h,k as u,u as L,w as f,f as g,j as I,c as p,o as l}from"./index-b45728a9.js";import{u as A}from"./articleStore-e898dfb2.js";const V={data(){return{currentIndex:0,article:{},randomArticles:[],isLoading:!1,fullPage:!1}},mixins:[v],methods:{...x(A,["get10Articles","getStoredAllArticles","handleArticles"]),findIndex(){this.currentIndex=this.storedAllArticles.findIndex(t=>t.id===this.article.id)},async getArticle(){this.isLoading=!0,this.isLoading=!1},getRandomArticles(){const t=[];for(;t.length<5;){const c=Math.floor(Math.random()*this.storedAllArticles.length);t.includes(c)||t.push(c)}this.randomArticles=t.map(c=>this.storedAllArticles[c])}},computed:{...b(A,["articles","storedAllArticles"]),allTags(){const t={};return this.storedAllArticles.forEach(d=>{d.tag.forEach(r=>{t[r]?t[r]++:t[r]=1})}),Object.keys(t).sort((d,r)=>t[r]-t[d]).slice(0,20)}},watch:{"$route.params":{immediate:!0,async handler(){this.$route.params.id&&this.getArticle()}}},async mounted(){await this.getArticle(),await this.handleArticles(),this.getRandomArticles()}},N={class:"container py-10 py-md-20"},S={class:"row"},j={class:"col-md-8"},B={key:0},T={class:"fs-3 fw-bold"},M={class:"mt-4"},R={class:"text-secondary-300"},C=s("i",{class:"fa-solid fa-user me-1"},null,-1),D={class:"text-secondary-300 ms-3"},E=s("i",{class:"fa-solid fa-calendar-days me-1"},null,-1),H=s("i",{class:"fa-solid fa-tag me-1"},null,-1),K={key:0},P=["src","srcset"],F=["innerHTML"],O=s("hr",null,null,-1),U={class:"row justify-content-between"},X={class:"col-6"},q=s("i",{class:"fa-solid fa-arrow-left me-2"},null,-1),z=s("br",null,null,-1),G={key:0,class:"col-6"},J={class:"text-end"},Q=s("br",null,null,-1),W=s("i",{class:"fa-solid fa-arrow-right ms-2"},null,-1),Y={key:1,class:"vl-parent"},Z={class:"col-md-4"},$={class:"ps-lg-20 pt-lg-10 d-flex flex-column align-items-center align-items-md-start d-none d-md-block"},ss=s("h2",{class:"fs-5 fw-bold mt-10 mt-md-0"},"標籤",-1),es={class:"mt-4"},ts=s("i",{class:"fa-solid fa-tag"},null,-1),ls=s("h2",{class:"fs-5 fw-bold mt-10"},"隨機文章",-1),is=I('<ul class="mt-10 row"><li class="col-3"><a href="https://podcasts.apple.com/tw/podcast/dr-meme/id1522408497" target="_blank"><i class="fa-solid fa-podcast fs-2"></i></a></li><li class="col-3"><a href="https://open.spotify.com/show/4gm4BSePy7Xoi08Nd8KH87" target="_blank"><i class="fa-brands fa-spotify fs-2"></i></a></li><li class="col-3"><a href="https://www.instagram.com/doctormeme_tw/" target="_blank"><i class="fa-brands fa-instagram fs-2"></i></a></li><li class="col-3"><a href="https://www.instagram.com/memedical_slashie/" target="_blank"><i class="fa-brands fa-instagram fs-2"></i></a></li></ul>',1);function os(t,c,d,r,e,w){const m=p("RouterLink"),y=p("VueLoading");return l(),o("div",N,[s("div",S,[s("div",j,[e.isLoading?(l(),o("div",Y,[g(y,{active:e.isLoading,"onUpdate:active":c[0]||(c[0]=i=>e.isLoading=i),"can-cancel":!1,"is-full-page":e.fullPage},null,8,["active","is-full-page"])])):(l(),o("div",B,[s("h1",T,n(e.article.title),1),s("div",M,[s("span",R,[C,a(n(e.article.author),1)]),s("span",D,[E,a(n(t.getDate(e.article.create_at)),1)]),(l(!0),o(_,null,h(e.article.tag,i=>(l(),o("span",{class:"text-secondary-300 ms-3",key:i},[H,a(n(i),1)]))),128))]),e.article.image&&Object.keys(e.article.image).length>0?(l(),o("div",K,[s("img",{class:"mt-4 w-100 rounded-3",src:e.article.image["1000w"],alt:"首圖",srcset:`${e.article.image["300w"]} 300w, ${e.article.image["600w"]} 600w, ${e.article.image["1000w"]} 1000w`},null,8,P)])):u("",!0),s("div",{class:"mt-4 p-6",innerHTML:e.article.content},null,8,F),O,s("div",U,[s("div",X,[t.storedAllArticles[e.currentIndex-1]?(l(),L(m,{key:0,to:`/article/${t.storedAllArticles[e.currentIndex-1].id}`,class:"d-flex align-items-center"},{default:f(()=>[q,s("div",null,[a(" 上一篇："),z,a(" "+n(t.storedAllArticles[e.currentIndex-1].title),1)])]),_:1},8,["to"])):u("",!0)]),t.storedAllArticles[e.currentIndex+1]?(l(),o("div",G,[g(m,{to:`/article/${t.storedAllArticles[e.currentIndex+1].id}`,class:"d-flex align-items-center justify-content-end"},{default:f(()=>[s("div",J,[a(" 下一篇："),Q,a(" "+n(t.storedAllArticles[e.currentIndex+1].title),1)]),W]),_:1},8,["to"])])):u("",!0)])]))]),s("div",Z,[s("div",$,[ss,s("div",es,[(l(!0),o(_,null,h(w.allTags,i=>(l(),o("a",{class:"text-secondary-700 me-3",key:i},[ts,a(n(i),1)]))),128))]),ls,(l(!0),o(_,null,h(e.randomArticles,i=>(l(),o("div",{key:i.id,class:"mt-2"},[g(m,{to:`/article/${i.id}`,class:"fw-bold"},{default:f(()=>[a(n(i.title),1)]),_:2},1032,["to"])]))),128)),is])])])])}const rs=k(V,[["render",os]]);export{rs as default};
