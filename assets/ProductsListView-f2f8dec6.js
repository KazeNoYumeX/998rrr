import{b as h,m as $,u as P,_,o as n,d as i,e as s,l as T,v as L,F as l,k as v,t as r,n as d,x as f,c,i as N,f as p,w as S,j as k}from"./index-7f424c35.js";import{u}from"./productsStore-6655fb5e.js";import{S as B,u as U}from"./cartStore-e2479431.js";import{B as V}from"./BannerComponent-5e26acf7.js";const E={data(){return{hasMarginTop:!1}},methods:{...h(u,["changeCategory","getProducts"]),handleScroll(){this.hasMarginTop=window.scrollY>384}},computed:{...$(u,["categories"]),...P(u,["currentCategory"])},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},M={class:"col d-md-none sticky-top"},j=["value"],F={class:"d-none d-md-block col-3 sticky-top overflow-y-auto vh-100"},A={class:"h-100"},D=["onClick"];function R(t,e,w,b,g,C){return n(),i(l,null,[s("div",M,[T(s("select",{class:"form-select border border-orange-998-500 mb-3","onUpdate:modelValue":e[0]||(e[0]=a=>t.currentCategory=a),onChange:e[1]||(e[1]=(...a)=>t.getProducts&&t.getProducts(...a))},[(n(!0),i(l,null,v(t.categories,a=>(n(),i("option",{key:a,value:a},r(a),9,j))),128))],544),[[L,t.currentCategory]])]),s("div",F,[s("div",A,[s("ul",{class:d(["list-group",{"mt-20":g.hasMarginTop}])},[(n(!0),i(l,null,v(t.categories,a=>(n(),i("li",{type:"button",key:a,onClick:f(m=>t.changeCategory(a),["prevent"]),class:d(["list-group-item list-group-item-action fw-bold products-list-sidebar rounded-1 bg-orange-998-500 border-orange-998-400",{active:a===t.currentCategory}]),"aria-current":"true"},r(a),11,D))),128))],2)])])],64)}const Z=_(E,[["render",R]]);const z={computed:{...$(u,["products","pageNum","pagination","followList","isLoading","fullPage"])},methods:{...h(u,["getProducts","toggleFollowProduct"]),...h(U,["addToCart"]),swalToast(t,e){B.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,width:280,timerProgressBar:!1,customClass:{popup:"cart-toast-modal"}}).fire({icon:e==="success"?"success":"error",title:t})},copyCoupon(){const t="998rrr";navigator.clipboard.readText().then(e=>{console.log(e)}),navigator.clipboard.writeText(t).then(()=>this.swalToast("複製成功","success")).catch(()=>this.swalToast("複製失敗","fail"))}},mounted(){this.getProducts()}},W={class:"col-md-9"},Y={class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 gy-6"},q={class:"position-relative"},x=["onClick"],G=["src","alt","srcset"],H={class:"card-body px-2"},I={class:"card-title text-dark fw-bold"},J={class:"fs-5"},K={key:0,class:"text-secondary-500 me-2"},O={class:"p-1"},Q=["onClick"],X={key:0,class:"row"},tt={"aria-label":"Page navigation"},st={class:"pagination justify-content-center pt-10"},ot={class:"page-item"},et=["onClick"],at={class:"vl-parent"};function nt(t,e,w,b,g,C){const a=c("RouterLink"),m=c("VueLoading");return n(),i(l,null,[s("div",W,[s("div",Y,[e[4]||(e[4]=N('<div class="col"><div class="card h-100 hover-dashed"><div class="position-relative"><img src="https://cdn.myacg.com.tw/goods_images/4156643_1_202310180329005.jpg?v=UBEZT_165459&amp;cod=2398729387a" class="card-img-top aspect-ratio-item" alt="玖玖巴－酒友"></div><div class="card-body px-2"><h5 class="card-title text-dark fw-bold">玖玖巴－酒友</h5><p class="fs-5 text-orange-998-500"><span>NT$ 165</span></p></div><div class="p-1"><a target="_blank" href="https://www.myacg.com.tw/goods_detail.php?gid=4156643" class="btn btn-outline-orange-998-500 w-100 button-hover py-3 fs-5 fw-bold"><i class="fa-solid fa-right-from-bracket"></i><span class="ms-2">前往購買</span></a></div></div></div><div class="col"><div class="card h-100 hover-dashed"><div class="position-relative"><img src="https://cdn.myacg.com.tw/goods_images/3272208_1_202210250051152.jpg?v=UBEZT_165459&amp;code=43987202397842" class="card-img-top aspect-ratio-item" alt="賽馬娘桌墊－天秋舞台（小栗帽&amp;小海灣）"></div><div class="card-body px-2"><h5 class="card-title text-dark fw-bold">賽馬娘桌墊－天秋舞台（小栗帽&amp;小海灣）</h5><p class="fs-5 text-orange-998-500"><span>NT$ 660</span></p></div><div class="p-1"><a target="_blank" href="https://www.myacg.com.tw/goods_detail.php?gid=3272208" class="btn btn-outline-orange-998-500 w-100 button-hover py-3 fs-5 fw-bold"><i class="fa-solid fa-right-from-bracket"></i><span class="ms-2">前往購買</span></a></div></div></div>',2)),(n(!0),i(l,null,v(t.products,o=>(n(),i("div",{class:"col",key:o.id},[p(a,{class:"card h-100 hover-dashed",to:`/product/${o.id}`},{default:S(()=>[s("div",q,[s("button",{onClick:f(y=>t.toggleFollowProduct(o.id),["prevent"]),class:"btn border-0 text-orange-998-500 position-absolute mt-2 top-0 end-0"},[s("i",{class:d([t.followList.includes(o.id)?"fa-solid":"fa-regular","fa-heart fa-2xl"])},null,2)],8,x),s("img",{src:o.imageUrl["1000w"],class:"card-img-top aspect-ratio-item",alt:o.title,srcset:`${o.imageUrl["300w"]} 300w, ${o.imageUrl["600w"]} 600w, ${o.imageUrl["1000w"]} 1000w`},null,8,G)]),s("div",H,[s("h5",I,r(o.title),1),s("p",J,[o.origin_price!==o.price?(n(),i("del",K,"NT$ "+r(o.origin_price),1)):k("",!0),s("span",null,"NT$ "+r(o.price),1)])]),s("div",O,[s("button",{type:"button",class:"btn btn-outline-orange-998-500 w-100 button-hover py-3 fs-5 fw-bold",onClick:f(y=>t.addToCart(o.id),["prevent"])},e[3]||(e[3]=[s("i",{class:"fa-solid fa-cart-shopping"},null,-1),s("span",{class:"ms-2"},"加入購物車",-1)]),8,Q)])]),_:2},1032,["to"])]))),128))]),t.pagination.total_pages>1?(n(),i("div",X,[s("nav",tt,[s("ul",st,[s("li",ot,[s("button",{type:"button",class:d(["page-link",{disabled:!t.pagination.has_pre}]),"aria-label":"Previous",onClick:e[0]||(e[0]=o=>t.getProducts(t.pagination.current_page-1))},e[5]||(e[5]=[s("span",{"aria-hidden":"true"},"«",-1)]),2)]),(n(!0),i(l,null,v(t.pagination.total_pages,o=>(n(),i("li",{key:o,class:d(["page-item",{active:o==t.pagination.current_page}])},[s("button",{type:"button",class:"page-link",onClick:y=>t.getProducts(o)},r(o),9,et)],2))),128)),s("li",null,[s("button",{type:"button",class:d(["page-link",{disabled:!t.pagination.has_next}]),"aria-label":"Next",onClick:e[1]||(e[1]=o=>t.getProducts(t.pagination.current_page+1))},e[6]||(e[6]=[s("span",{"aria-hidden":"true"},"»",-1)]),2)])])])])):k("",!0)]),s("div",at,[p(m,{active:t.isLoading,"onUpdate:active":e[2]||(e[2]=o=>t.isLoading=o),"can-cancel":!1,"is-full-page":t.fullPage},null,8,["active","is-full-page"])])],64)}const it=_(z,[["render",nt]]),lt={components:{ProductslistComponent:it,ProductsCategoryComponent:Z,BannerComponent:V},data(){return{imageName:"products-list-banner.webp",isLoading:!1,fullPage:!1}},methods:{}},rt={class:"container py-10 py-md-20",id:"products-block"},dt={class:"row"};function ct(t,e,w,b,g,C){const a=c("BannerComponent"),m=c("ProductsCategoryComponent"),o=c("ProductslistComponent");return n(),i(l,null,[p(a,{title:"限量周邊",subtitle:"Limited Edition Merch","image-name":g.imageName,"image-alt":"Anya wants this"},null,8,["image-name"]),s("div",rt,[s("div",dt,[p(m),p(o)])])],64)}const vt=_(lt,[["render",ct]]);export{vt as default};
