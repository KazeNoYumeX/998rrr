import{a as _,m as $,y as P,_ as f,o as n,d as i,e as s,h as T,z as L,F as r,q as h,t as l,s as c,A as v,b as d,f as p,w as N,k,j as S}from "./index-81817b2a.js";import{u}from "./productsStore-caaa9f01.js";import{S as B,u as U}from "./cartStore-2b5b2cf7.js";import{B as V}from "./BannerComponent-00114175.js";const E={data(){return{hasMarginTop:!1}},methods:{..._(u,["changeCategory","getProducts"]),handleScroll(){this.hasMarginTop=window.scrollY>384}},computed:{...$(u,["categories"]),...P(u,["currentCategory"])},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},M={class:"col d-md-none sticky-top"},j=["value"],F={class:"d-none d-md-block col-3 sticky-top overflow-y-auto vh-100"},A={class:"h-100"},z=["onClick"];function D(t, e, w, b, m, y){return n(),i(r,null,[s("div",M,[T(s("select",{class:"form-select border border-primary-500 mb-3","onUpdate:modelValue":e[0]||(e[0]= a=>t.currentCategory=a),onChange:e[1]||(e[1]=(...a)=>t.getProducts&&t.getProducts(...a))},[(n(!0),i(r,null,h(t.categories, a=>(n(),i("option",{key:a,value:a},l(a),9,j))),128))],544),[[L,t.currentCategory]])]),s("div",F,[s("div",A,[s("ul",{class:c(["list-group",{"mt-20":m.hasMarginTop}])},[(n(!0),i(r,null,h(t.categories, a=>(n(),i("li",{type:"button",key:a,onClick:v(g=>t.changeCategory(a),["prevent"]),class:c(["list-group-item list-group-item-action fw-bold products-list-sidebar rounded-1",{active:a===t.currentCategory}]),"aria-current":"true"},l(a),11,z))),128))],2)])])],64)}const R=f(E,[["render",D]]);const Z={computed:{...$(u,["products","pageNum","pagination","followList","isLoading","fullPage"])},methods:{..._(u,["getProducts","toggleFollowProduct"]),..._(U,["addToCart"]),swalToast(t, e){B.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,width:280,timerProgressBar:!1,customClass:{popup:"cart-toast-modal"}}).fire({icon:e==="success"?"success":"error",title:t})},copyCoupon(){const t="998rrr";navigator.clipboard.readText().then(e=>{console.log(e)}),navigator.clipboard.writeText(t).then(()=>this.swalToast("複製成功","success")).catch(()=>this.swalToast("複製失敗","fail"))}},mounted(){this.getProducts()}},q={class:"col-md-9"},W={class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 gy-6"},Y=S('<div class="col"><div class="card h-100 hover-dashed"><div class="position-relative"><img src="https://cdn.myacg.com.tw/goods_images/4156643_1_202310180329005.jpg?v=UBEZT_165459&amp;cod=2398729387a" class="card-img-top aspect-ratio-item" alt="玖玖巴－酒友"></div><div class="card-body px-2"><h5 class="card-title text-dark fw-bold"> 玖玖巴－酒友 </h5><p class="fs-5 text-primary-500"><span>NT$ 165</span></p></div><div class="p-1"><a target="_blank" href="https://www.myacg.com.tw/goods_detail.php?gid=4156643" class="btn btn-outline-primary-500 w-100 button-hover py-3 fs-5 fw-bold"><i class="fa-solid fa-right-from-bracket"></i><span class="ms-2">前往購買</span></a></div></div></div><div class="col"><div class="card h-100 hover-dashed"><div class="position-relative"><img src="https://cdn.myacg.com.tw/goods_images/3272208_1_202210250051152.jpg?v=UBEZT_165459&amp;code=43987202397842" class="card-img-top aspect-ratio-item" alt="賽馬娘桌墊－天秋舞台（小栗帽&amp;小海灣）"></div><div class="card-body px-2"><h5 class="card-title text-dark fw-bold"> 賽馬娘桌墊－天秋舞台（小栗帽&amp;小海灣） </h5><p class="fs-5 text-primary-500"><span>NT$ 660</span></p></div><div class="p-1"><a target="_blank" href="https://www.snowfactory.com.tw/products/red-guava--confiture" class="btn btn-outline-primary-500 w-100 button-hover py-3 fs-5 fw-bold"><i class="fa-solid fa-right-from-bracket"></i><span class="ms-2">前往購買</span></a></div></div></div>',2),G={class:"position-relative"},H=["onClick"],I=["src","alt","srcset"],J={class:"card-body px-2"},K={class:"card-title text-dark fw-bold"},O={class:"fs-5"},Q={key:0,class:"text-secondary-500 me-2"},X={class:"p-1"},x=["onClick"],tt=s("i",{class:"fa-solid fa-cart-shopping"},null,-1),st=s("span",{class:"ms-2"},"加入購物車",-1),ot=[tt,st],et={key:0,class:"row"},at={"aria-label":"Page navigation"},nt={class:"pagination justify-content-center pt-10"},it={class:"page-item"},rt=s("span",{"aria-hidden":"true"},"«",-1),lt=[rt],ct=["onClick"],dt=s("span",{"aria-hidden":"true"},"»",-1),pt=[dt],ut={class:"vl-parent"};function mt(t, e, w, b, m, y){const a=d("RouterLink"),g=d("VueLoading");return n(),i(r,null,[s("div",q,[s("div",W,[Y,(n(!0),i(r,null,h(t.products, o=>(n(),i("div",{class:"col",key:o.id},[p(a,{class:"card h-100 hover-dashed",to:`/product/${o.id}`},{default:N(()=>[s("div",G,[s("button",{onClick:v(C=>t.toggleFollowProduct(o.id),["prevent"]),class:"btn border-0 text-primary-500 position-absolute mt-2 top-0 end-0"},[s("i",{class:c([t.followList.includes(o.id)?"fa-solid":"fa-regular","fa-heart fa-2xl"])},null,2)],8,H),s("img",{src:o.imageUrl["1000w"],class:"card-img-top aspect-ratio-item",alt:o.title,srcset:`${o.imageUrl["300w"]} 300w, ${o.imageUrl["600w"]} 600w, ${o.imageUrl["1000w"]} 1000w`},null,8,I)]),s("div",J,[s("h5",K,l(o.title),1),s("p",O,[o.origin_price!==o.price?(n(),i("del",Q,"NT$ "+l(o.origin_price),1)):k("",!0),s("span",null,"NT$ "+l(o.price),1)])]),s("div",X,[s("button",{type:"button",class:"btn btn-outline-primary-500 w-100 button-hover py-3 fs-5 fw-bold",onClick:v(C=>t.addToCart(o.id),["prevent"])},ot,8,x)])]),_:2},1032,["to"])]))),128))]),t.pagination.total_pages>1?(n(),i("div",et,[s("nav",at,[s("ul",nt,[s("li",it,[s("button",{type:"button",class:c(["page-link",{disabled:!t.pagination.has_pre}]),"aria-label":"Previous",onClick:e[0]||(e[0]= o=>t.getProducts(t.pagination.current_page-1))},lt,2)]),(n(!0),i(r,null,h(t.pagination.total_pages, o=>(n(),i("li",{key:o,class:c(["page-item",{active:o==t.pagination.current_page}])},[s("button",{type:"button",class:"page-link",onClick: C=>t.getProducts(o)},l(o),9,ct)],2))),128)),s("li",null,[s("button",{type:"button",class:c(["page-link",{disabled:!t.pagination.has_next}]),"aria-label":"Next",onClick:e[1]||(e[1]= o=>t.getProducts(t.pagination.current_page+1))},pt,2)])])])])):k("",!0)]),s("div",ut,[p(g,{active:t.isLoading,"onUpdate:active":e[2]||(e[2]= o=>t.isLoading=o),"can-cancel":!1,"is-full-page":t.fullPage},null,8,["active","is-full-page"])])],64)}const gt=f(Z,[["render",mt]]),ht={components:{ProductslistComponent:gt,ProductsCategoryComponent:R,BannerComponent:V},data(){return{imageName:"products-list-banner.webp",isLoading:!1,fullPage:!1}},methods:{}},_t={class:"container py-10 py-md-20",id:"products-block"},vt={class:"row"};function ft(t, e, w, b, m, y){const a=d("BannerComponent"),g=d("ProductsCategoryComponent"),o=d("ProductslistComponent");return n(),i(r,null,[p(a,{title:"限量周邊",subtitle:"Limited Edition Merch","image-name":m.imageName,"image-alt":"Anya wants this"},null,8,["image-name"]),s("div",_t,[s("div",vt,[p(g),p(o)])])],64)}const kt=f(ht,[["render",ft]]);export{kt as default};
