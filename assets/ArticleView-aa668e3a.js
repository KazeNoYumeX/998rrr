import{g as v}from"./getDate-a6a896d2.js";import{_ as k,b as x,m as b,d as o,e as t,t as a,h as n,F as u,k as f,j as g,q as L,w as p,f as A,i as I,c as h,o as i}from"./index-7f424c35.js";import{u as w}from"./articleStore-25643b32.js";const V={data(){return{currentIndex:0,article:{},randomArticles:[],isLoading:!1,fullPage:!1}},mixins:[v],methods:{...x(w,["get10Articles","getStoredAllArticles","handleArticles"]),findIndex(){this.currentIndex=this.storedAllArticles.findIndex(l=>l.id===this.article.id)},async getArticle(){this.isLoading=!0,this.isLoading=!1},getRandomArticles(){const l=[];for(;l.length<5;){const s=Math.floor(Math.random()*this.storedAllArticles.length);l.includes(s)||l.push(s)}this.randomArticles=l.map(s=>this.storedAllArticles[s])}},computed:{...b(w,["articles","storedAllArticles"]),allTags(){const l={};return this.storedAllArticles.forEach(c=>{c.tag.forEach(d=>{l[d]?l[d]++:l[d]=1})}),Object.keys(l).sort((c,d)=>l[d]-l[c]).slice(0,20)}},watch:{"$route.params":{immediate:!0,async handler(){this.$route.params.id&&this.getArticle()}}},async mounted(){await this.getArticle(),await this.handleArticles(),this.getRandomArticles()}},N={class:"container py-10 py-md-20"},S={class:"row"},j={class:"col-md-8"},B={key:0},T={class:"fs-3 fw-bold"},M={class:"mt-4"},R={class:"text-secondary-300"},C={class:"text-secondary-300 ms-3"},D={key:0},E=["src","srcset"],H=["innerHTML"],K={class:"row justify-content-between"},P={class:"col-6"},F={key:0,class:"col-6"},O={class:"text-end"},q={key:1,class:"vl-parent"},U={class:"col-md-4"},X={class:"ps-lg-20 pt-lg-10 d-flex flex-column align-items-center align-items-md-start d-none d-md-block"},z={class:"mt-4"};function G(l,s,c,d,e,_){const m=h("RouterLink"),y=h("VueLoading");return i(),o("div",N,[t("div",S,[t("div",j,[e.isLoading?(i(),o("div",q,[A(y,{active:e.isLoading,"onUpdate:active":s[0]||(s[0]=r=>e.isLoading=r),"can-cancel":!1,"is-full-page":e.fullPage},null,8,["active","is-full-page"])])):(i(),o("div",B,[t("h1",T,a(e.article.title),1),t("div",M,[t("span",R,[s[1]||(s[1]=t("i",{class:"fa-solid fa-user me-1"},null,-1)),n(a(e.article.author),1)]),t("span",C,[s[2]||(s[2]=t("i",{class:"fa-solid fa-calendar-days me-1"},null,-1)),n(a(l.getDate(e.article.create_at)),1)]),(i(!0),o(u,null,f(e.article.tag,r=>(i(),o("span",{class:"text-secondary-300 ms-3",key:r},[s[3]||(s[3]=t("i",{class:"fa-solid fa-tag me-1"},null,-1)),n(a(r),1)]))),128))]),e.article.image&&Object.keys(e.article.image).length>0?(i(),o("div",D,[t("img",{class:"mt-4 w-100 rounded-3",src:e.article.image["1000w"],alt:"首圖",srcset:`${e.article.image["300w"]} 300w, ${e.article.image["600w"]} 600w, ${e.article.image["1000w"]} 1000w`},null,8,E)])):g("",!0),t("div",{class:"mt-4 p-6",innerHTML:e.article.content},null,8,H),s[10]||(s[10]=t("hr",null,null,-1)),t("div",K,[t("div",P,[l.storedAllArticles[e.currentIndex-1]?(i(),L(m,{key:0,to:`/article/${l.storedAllArticles[e.currentIndex-1].id}`,class:"d-flex align-items-center"},{default:p(()=>[s[6]||(s[6]=t("i",{class:"fa-solid fa-arrow-left me-2"},null,-1)),t("div",null,[s[4]||(s[4]=n(" 上一篇：")),s[5]||(s[5]=t("br",null,null,-1)),n(" "+a(l.storedAllArticles[e.currentIndex-1].title),1)])]),_:1},8,["to"])):g("",!0)]),l.storedAllArticles[e.currentIndex+1]?(i(),o("div",F,[A(m,{to:`/article/${l.storedAllArticles[e.currentIndex+1].id}`,class:"d-flex align-items-center justify-content-end"},{default:p(()=>[t("div",O,[s[7]||(s[7]=n(" 下一篇：")),s[8]||(s[8]=t("br",null,null,-1)),n(" "+a(l.storedAllArticles[e.currentIndex+1].title),1)]),s[9]||(s[9]=t("i",{class:"fa-solid fa-arrow-right ms-2"},null,-1))]),_:1},8,["to"])])):g("",!0)])]))]),t("div",U,[t("div",X,[s[12]||(s[12]=t("h2",{class:"fs-5 fw-bold mt-10 mt-md-0"},"標籤",-1)),t("div",z,[(i(!0),o(u,null,f(_.allTags,r=>(i(),o("a",{class:"text-secondary-700 me-3",key:r},[s[11]||(s[11]=t("i",{class:"fa-solid fa-tag"},null,-1)),n(a(r),1)]))),128))]),s[13]||(s[13]=t("h2",{class:"fs-5 fw-bold mt-10"},"隨機文章",-1)),(i(!0),o(u,null,f(e.randomArticles,r=>(i(),o("div",{key:r.id,class:"mt-2"},[A(m,{to:`/article/${r.id}`,class:"fw-bold"},{default:p(()=>[n(a(r.title),1)]),_:2},1032,["to"])]))),128)),s[14]||(s[14]=I('<ul class="mt-10 row"><li class="col-3"><a href="https://podcasts.apple.com/tw/podcast/dr-meme/id1522408497" target="_blank"><i class="fa-solid fa-podcast fs-2"></i></a></li><li class="col-3"><a href="https://open.spotify.com/show/4gm4BSePy7Xoi08Nd8KH87" target="_blank"><i class="fa-brands fa-spotify fs-2"></i></a></li><li class="col-3"><a href="https://www.instagram.com/doctormeme_tw/" target="_blank"><i class="fa-brands fa-instagram fs-2"></i></a></li><li class="col-3"><a href="https://www.instagram.com/memedical_slashie/" target="_blank"><i class="fa-brands fa-instagram fs-2"></i></a></li></ul>',1))])])])])}const Y=k(V,[["render",G]]);export{Y as default};
