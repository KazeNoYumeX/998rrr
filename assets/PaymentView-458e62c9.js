import{P as h}from "./ProgressbarComponent-c325c9d8.js";import{_ as p,d as n,e as s,f as m,F as b,q as y,k as f,t as r,s as g,A as v,b as w,o as l}from "./index-81817b2a.js";const{VITE_APP_URL:i,VITE_APP_PATH:_}={BASE_URL:"/998rrr/",MODE:"production",DEV:!1,PROD:!0},P={data(){return{order:{user:{email:"",name:"",tel:"",address:""}},orderId:""}},components:{ProgressbarComponent:h},computed:{},methods:{getOrder(){const d=this.$route.params.orderId;this.$http.get(`${i}/api/${_}/order/${d}`).then(o=>{const{order:c}=o.data;this.order=c}).catch(o=>{alert(o.response.data.message)})},payOrder(){this.orderId=this.$route.params.orderId,this.$http.post(`${i}/api/${_}/pay/${this.orderId}`).then(d=>{this.getOrder(),this.$router.push(`/checkout/${this.orderId}`)}).catch(d=>{alert(d.response.data.message)})}},mounted(){this.getOrder()}},I={class:"container"},x={class:"row justify-content-center py-10"},O={class:"col-sm-10 col-lg-8"},V={class:"row"},k={class:"col-md-7"},C={class:"py-2 py-md-4"},E=s("h2",{class:"fs-5 fw-bold mb-2"},"訂購商品",-1),$={class:"table-wrapper"},A={class:"table fs-7"},B=["src","alt"],D={class:"col-6"},N={class:"col-3 text-end"},T={class:"col-md-5"},L={class:"p-2 p-md-4 border rounded-3 bg-secondary-100"},R=s("h2",{class:"fs-5 fw-bold mb-2"},"訂單資訊",-1),S={class:"table fs-7 mb-0"},U=s("th",{width:"100"},"Email",-1),j=s("th",null,"姓名",-1),q=s("th",null,"收件人電話",-1),F=s("th",null,"收件人地址",-1),M=s("th",null,"付款狀態",-1),z={class:"col-md-10 d-flex justify-content-end mt-6"};function H(d, o, c, G, t, a){const u=w("ProgressbarComponent");return l(),n("div",I,[s("div",x,[m(u,{currentStatus:3}),s("div",O,[s("div",V,[s("div",k,[s("div",C,[E,s("div",$,[s("table",A,[s("tbody",null,[t.order.products?(l(!0),n(b,{key:0},y(t.order.products, e=>(l(),n("tr",{class:"align-middle",key:e.id},[s("td",null,[s("img",{src:e.product.imageUrl["300w"],class:"cart-image",alt:e.product.title},null,8,B)]),s("td",D,r(e.product.title)+" x"+r(e.qty),1),s("td",N," NT$ "+r(e.product.price),1)]))),128)):f("",!0)])])])])]),s("div",T,[s("div",L,[R,s("table",S,[s("tbody",null,[s("tr",null,[U,s("td",null,r(t.order.user.email),1)]),s("tr",null,[j,s("td",null,r(t.order.user.name),1)]),s("tr",null,[q,s("td",null,r(t.order.user.tel),1)]),s("tr",null,[F,s("td",null,r(t.order.user.address),1)]),s("tr",null,[M,s("td",{class:g(t.order.is_paid?"success":"warning")},r(t.order.is_paid?"已付款":"未付款"),3)])])])])])])]),s("div",z,[s("button",{class:"btn btn-primary-500 ms-2 text-light fw-bold",onClick:o[0]||(o[0]=v((...e)=>a.payOrder&&a.payOrder(...e),["prevent"]))}," 確認付款 ")])])])}const Q=p(P,[["render",H]]);export{Q as default};
