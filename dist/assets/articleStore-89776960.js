import{l,n as i}from"./index-81817b2a.js";const{VITE_APP_URL:a,VITE_APP_PATH:r}={BASE_URL:"/998rrr/",MODE:"production",DEV:!1,PROD:!0},o=l("useArticleStore",{state:()=>({articles:[],page:{},allArticles:[],storedAllArticles:[],isLoading:!1,fullPage:!0}),actions:{async handleArticles(){this.storedAllArticles.length===0&&(await this.get10Articles(),await this.getAllArticles()),this.getStoredAllArticles()},async get10Articles(t=1){this.isLoading=!0;const s=`${a}/api/${r}/articles?page=${t}`;try{const e=await i.get(s);this.articles=e.data.articles,this.page=e.data.pagination,this.allArticles.push(...this.articles)}catch(e){console.error(e.response.data.message)}this.isLoading=!1},async getAllArticles(){this.allArticles=[];for(let t=1;t<=this.page.total_pages;t++)await this.get10Articles(t);localStorage.setItem("allArticles",JSON.stringify(this.allArticles))},getStoredAllArticles(){const t=localStorage.getItem("allArticles");this.storedAllArticles=JSON.parse(t)||[]}}});export{o as u};
